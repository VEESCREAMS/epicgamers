var scene = 0;


var pp = function() {
  var o = 230;
  var t = 450;
  
  input = createInput();
  input.position(o, t);
  
  ans = createElement('h3', 'Answer:');
  ans.position(o + 60, t - 65);
  button = createButton('submit');
  button.position(input.x + input.width, t);
  button.mousePressed(greet);
};

var one = function() {
  greeting = createElement('h2', '4 + 5 = ?');
  greeting.position(230, 5);
    scene = 1;
    var g = 340;
    background(220, 20, 60);
    fill(255, 255, 255);
    textSize(30);
    text("12", 130, g);
    text("11", 260, g);
    text("10", 390, g);
    text("9", 520, g);
  pp();
  
};

var two = function() {
    $("h2").text("12 + 23 = ?");
    scene = 2;
    var g = 340;
    background(220, 20, 60);
    fill(255, 255, 255);
    textSize(30);
    text("35", 130, g);
    text("25", 260, g);
    text("34", 390, g);
    text("24", 520, g);
  pp();
        
  };

var three = function() {
    $("h2").text("5 + 9 = ?");
    scene = 3;
    var g = 340;
    background(220, 20, 60);
    fill(255, 255, 255);
    textSize(30);
    text("11", 130, g);
    text("17", 260, g);
    text("15", 390, g);
    text("14", 520, g);
  pp();

};

var four = function() {
   $("h2").text("6 + 3 + 2 = ?");
    scene = 4;
    var g = 340;
    background(220, 20, 60);
    fill(255, 255, 255);
    textSize(30);
    text("11", 130, g);
    text("8", 260, g);
    text("12", 390, g);
    text("9", 520, g);
  pp();
};

var five = function() {
  $("h2").text("9 + 4 + 6 + 9 = ?");
    scene = 5;
    var g = 340;
    background(220, 20, 60);
    fill(255, 255, 255);
    textSize(30);
    text("23", 130, g);
    text("27", 260, g);
    text("19", 390, g);
    text("28", 520, g);
  pp();
};


var six = function() {
  $("h2").text("7 + 0 + 2 + 9 = ?");
    scene = 6;
    var g = 340;
    background(220, 20, 60);
    fill(255, 255, 255);
    textSize(30);
    text("18", 130, g);
    text("23", 260, g);
    text("19", 390, g);
    text("21", 520, g);
  pp();
};

var seven = function() {
  $("h2").text("108 + 205 = ?");
    scene = 7;
    var g = 340;
    background(220, 20, 60);
    fill(255, 255, 255);
    textSize(30);
    text("313", 130, g);
    text("315", 260, g);
    text("296", 390, g);
    text("307", 520, g);
  pp();
};

var eight = function() {
    $("h2").text("134 + 74 = ?");
    scene = 8;
    var g = 340;
    background(220, 20, 60);
    fill(255, 255, 255);
    textSize(30);
    text("212", 130, g);
    text("232", 260, g);
    text("208", 390, g);
    text("214", 520, g);
  pp();
};

var cs = function(){
  background(220, 20, 60);
  textSize(20)
    text("Congrats! You have passed the Town!", 120, 140);
  text("After a long journey through it! You are now headed towards", 30, 180);
    text("[NEXT BACKGROUND], and you hope you'll have an easy time", 20, 220);
  text("there and find what you came this way for.", 100, 260);
  strokeWeight(10);
    stroke(255, 144, 33);
      line(0, 350, 800, 300);
  
    strokeWeight(10);
    stroke(255, 144, 33);
      line(0, 400, 800, 350);
};

var scenes = [one, two, three, four, five, six, seven, eight, cs];

var vic =  function () { 
  
  scenes.shift();
  
  $("html").css("background-color", "rgb(21, 219, 107)");
  background(21, 219, 107);
  
   pp(700, 700);
  var x = 204;
  var y = 211;
  
   $("h2").text("");
  $("h3").text("");

  fill(196, 136, 15);
  ellipse(204, 211, 349, 349);
  stroke(255, 0, 0);
  strokeWeight(6);
  noFill();
  // arc(x - 1, y + 69, x + 4, y - 25, 1, 180);
 
  // arc(x-1, y + 69, x+4, y - 25, 0, PI + QUARTER_PI, OPEN);
  arc(x , y + 50, x+40, y - 25, 0, 2.32 + QUARTER_PI, OPEN);
  

  //eyes
  fill(0, 0, 0);
  noStroke();
  ellipse(x - 84, y - 78, 50, 50);

  ellipse(x + 78, y - 78, 50, 50);
  
  $( "button" ).remove();
  $( "input" ).remove();
  
    var btn1 = new Button({
    x: 400,
    y: 500,
    label: "Please click!",
    onClick: function() {
      if (scenes.length === 0) {
        return;
      }
          
      scenes[0]();
      $("html").css("background-color", "rgb(220, 20, 60");
    }
});
  
 var btn2 = new Button({
    x: 50,
    y: 500,
    label: "Please click!",
    onClick: function() {
      background(35, 0, 9);
      $("html").css("background-color", "rgb(35, 0, 9");
    
    }
});


btn1.draw();
btn2.draw();

mouseClicked = function() {
    btn1.handleMouseClick();
    btn2.handleMouseClick();
    
};

};

function greet() {
  const name = input.value();
  input.value('');
  
  if (scene === 1 && name === '9') {
    vic();    
  } else if (scene === 2 && name === '35') {
    vic();   
  } else if (scene === 3 && name === '14') {
    vic();   
  } else if (scene === 4 && name === '11') {
    vic();    
  } else if (scene === 5 && name === '28') {
    vic();    
  } else if (scene === 6 && name === '18') {
    vic();    
  } else if (scene === 7 && name === '313') {
    vic();   
  } else if (scene === 8 && name === '208') {
    vic();    
  }
}

function setup() {
  createCanvas(600, 600);
  
  scenes[0]();
  
}
